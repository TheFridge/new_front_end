<%= render partial: 'top_nav' %>
<div class="row-fluid">
</div>
<% if flash.notice %>
  <div class='alert alert-success'>
    <%= flash.notice %>
  </div>
<% end %>

<div class="container-fluid main-container">
  <div class="row-fluid">
    <div class="span-12">
      <%= render partial: 'side_nav' %>
      <div class="container-fluid content-wrapper">
        <h1>Your Shopping List</h1>
          <div class='squiggly-border'></div>
          <table class='table table-striped table-bordered table-radmin'>
            <thead>
              <tr>
                <th>Quantity</th>
                <th>Measurement</th>
                <th>Ingredient</th>
                <th style='text-align:center'>
		              <%= link_to clear_list_path, :class => 'btn btn-small btn-danger', method: 'post' do %>
		                Discard All
		              <% end %>
                </th>
              </tr>
            </thead>
            <tbody>
	    <% unless @list['error_message'] %>
              <% @list['ingredients'].each do |ingredient| %>
                <tr>
                  <td><%= ingredient['quantity'] %></td>
                  <td><%= ingredient['measurement'] %></td>
                  <td><%= ingredient['name'] %></td>
                  <td style='text-align:center'>
		    <%= link_to destroy_list_item_path(id:ingredient['list_ingredient_id']), :class => 'btn btn-small btn-danger', method: 'delete' do %>
		      <i class='radmin-icon radmin-remove'></i>
		      Discard
		    <% end %>
                    </a>
                  </td>
                </tr>
              <% end %>
	    <% else %>
                <tr>
                  <td colspan="4">You have no items in your shopping list.
                  </td>
              <% end %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

